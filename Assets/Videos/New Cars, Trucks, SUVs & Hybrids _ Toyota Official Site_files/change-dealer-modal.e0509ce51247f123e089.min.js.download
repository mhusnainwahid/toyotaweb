/*! dg-ui v1.0.0 © 2018 Toyota Motor Sales, U.S.A., Inc. */
(window["dgChunkLoader"]=window["dgChunkLoader"]||[]).push([["change-dealer-modal"],{"491a":function(e,t,a){var o=a("a09d");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var d=a("499e").default;d("175ebd0c",o,!0,{sourceMap:!1,shadowMode:!1})},"8d60":function(e,t,a){"use strict";a("aaa1")},a09d:function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,"[data-v-150605dc]:focus{outline:revert}.dg-dealer-alert[data-v-150605dc]{color:#666;text-align:center}.dg-dealer-alert .map-pin[data-v-150605dc]{width:26px;height:44px;-o-object-fit:contain;object-fit:contain;display:inline-block}.dg-dealer-alert .dg-alert-header[data-v-150605dc]{font-family:ToyotaType-Light,Helvetica,Arial,sans-serif;font-size:30px;line-height:1.2;text-align:center;color:#252525;margin:auto;padding-bottom:25px}.dg-dealer-alert .dg-alert-header .dg-exclamation[data-v-150605dc]{position:relative;top:1px;font-family:ToyotaType-Bold,Helvetica,Arial,sans-serif;font-size:33px;font-weight:600;line-height:1.2;letter-spacing:5px;text-align:left;color:#c00;display:inline}@media(max-height:536px),(max-width:767px){.dg-dealer-alert .dg-alert-header[data-v-150605dc]{font-size:24px;line-height:30px;width:85%;padding-bottom:17px}}.dg-dealer-alert .dg-alert-body[data-v-150605dc]{font-family:ToyotaType-Light,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;text-align:center;color:#252525;width:73%;overflow:hidden!important;margin:auto;padding-bottom:37px}.dg-dealer-alert .dg-alert-body .dg-dealer-text[data-v-150605dc]{font-family:ToyotaType-Bold,Helvetica,Arial,sans-serif!important;display:inline;font-weight:700}@media(max-height:536px),(max-width:767px){.dg-dealer-alert .dg-alert-body[data-v-150605dc]{font-size:13px;width:85%;padding-bottom:40px}}@media(max-height:420px){.dg-dealer-alert .dg-alert-body[data-v-150605dc]{padding-bottom:20px}}.dg-dealer-alert .dg-alert-footer[data-v-150605dc]{text-align:center;font-size:13px;font-weight:bolder;padding-bottom:20px}.dg-dealer-alert .dg-alert-footer .dg-alert-button[data-v-150605dc]{display:inline-block;font-family:ToyotaType,Helvetica,Arial,sans-serif;font-size:13px;font-weight:500;line-height:1.38;text-align:center;color:#252525;padding:12px 15px;padding-top:10px;border-radius:25px;border:2px solid #252525;width:180px;cursor:default}@media(max-height:536px),(max-width:767px){.dg-dealer-alert .dg-alert-footer .dg-alert-button[data-v-150605dc]{display:block;padding:15px 25px;width:85%;margin:0 auto}}.dg-dealer-alert .dg-alert-footer .dg-alert-button[data-v-150605dc]:hover{cursor:pointer}.dg-dealer-alert .dg-alert-footer .dg-alert-button-red[data-v-150605dc]{display:inline-block;font-family:Helvetica Neue Medium,Helvetica Neue,Arial,sans-serif;font-size:13px;font-weight:500;line-height:1.38;text-align:center;color:#fff;padding:12px 15px;border-radius:22.5px;width:180px;cursor:default;background-color:#c00}@media(max-height:536px),(max-width:767px){.dg-dealer-alert .dg-alert-footer .dg-alert-button-red[data-v-150605dc]{display:block;padding:15px 25px;width:85%;margin:0 auto}}.dg-dealer-alert .dg-alert-footer .dg-alert-button-red[data-v-150605dc]:hover{cursor:pointer}.dg-dealer-alert .dg-alert-footer .dg-alert-button[data-v-150605dc]:first-child{margin-right:30px}@media(max-height:536px),(max-width:767px){.dg-dealer-alert .dg-alert-footer .dg-alert-button[data-v-150605dc]:first-child{margin:0 auto 10px}}",""]),e.exports=t},aaa1:function(e,t,a){var o=a("c23f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var d=a("499e").default;d("0eb2e20a",o,!0,{sourceMap:!1,shadowMode:!1})},bdd3:function(e,t,a){"use strict";a("491a")},c23f:function(e,t,a){var o=a("24fb");t=o(!1),t.push([e.i,"[data-v-5797ca83]:focus{outline:revert}#dg-ui-active-dealer-modal-wrapper[data-v-5797ca83]{font-family:ToyotaType-Regular,Helvetica,sans-serif;font-size:13px;line-height:1;position:fixed;box-sizing:border-box;pointer-events:none;top:0;right:0;bottom:0;left:0;z-index:99999;opacity:0;display:none;visibility:unset;transition:visibility .5s ease-out,opacity .5s ease-out}#dg-ui-active-dealer-modal-wrapper *[data-v-5797ca83]{box-sizing:border-box;pointer-events:all;position:relative}#dg-ui-active-dealer-modal-wrapper.dg-active[data-v-5797ca83]{opacity:1;visibility:visible;display:unset}#dg-ui-active-dealer-modal-wrapper.dg-active>#dg-ui-modal[data-v-5797ca83]{transform:scale(1)}.dg-ui-modal-not-smartpath[data-v-5797ca83]{max-height:775px;max-width:900px}#dg-ui-modal[data-v-5797ca83]{height:calc(100vh - 60px);width:calc(100vw - 60px);margin:30px auto 30px auto;z-index:5;transform:scale(.9);transition:transform .5s ease-out;background:#fff;border-top:3px solid;border-color:#d41e29;box-shadow:0 3px 7px rgba(0,0,0,.3)}@media(max-height:536px),(max-width:767px){#dg-ui-modal[data-v-5797ca83]{max-width:none;height:calc(100vh - 20px);width:calc(100vw - 20px);margin:10px 10px}#dg-ui-modal[data-v-5797ca83],#dg-ui-modal.dg-ui-modal-smaller-size[data-v-5797ca83]{max-height:none}}#dg-ui-modal.dg-ui-modal-smaller-size[data-v-5797ca83]{max-width:760px;max-height:420px}@media(min-width:767px){#dg-ui-modal.dg-ui-modal-centered-auto-height[data-v-5797ca83]{height:auto}}#dg-ui-modal .dg-no-title[data-v-5797ca83]{border-bottom:0!important}#dg-ui-modal-header[data-v-5797ca83]{position:absolute;top:0;left:0;right:0;z-index:5;padding-top:20px;background-color:#fff;font-size:30px;border-bottom:1px solid #f0f1f5;vertical-align:middle}@media(max-height:536px),(max-width:767px){#dg-ui-modal-header[data-v-5797ca83]{height:auto;min-height:60px;font-size:24px;padding:10px 0 10px 13px}}#dg-ui-modal-header .dg-not-smartpath-modal-header[data-v-5797ca83]{height:80px;padding-left:30px}#dg-ui-modal-close[data-v-5797ca83]{position:absolute;top:20px;right:20px;background-color:#1c191a;color:#fff;border-radius:50px;text-align:center;vertical-align:middle}@media(max-height:536px),(max-width:767px){#dg-ui-modal-close[data-v-5797ca83]{margin-top:22px}}@media(min-height:536px),(min-width:767px){#dg-ui-modal-close[data-v-5797ca83]{margin-top:-10px}}#dg-ui-modal-close>.dg-close-x[data-v-5797ca83]{margin-left:auto;margin-right:auto;width:16px;height:20px;top:50%;transform:translateY(-50%);text-align:center;font-size:20px;line-height:1}#dg-ui-modal-close[data-v-5797ca83]:hover{cursor:pointer}.dg-modal-close[data-v-5797ca83]{height:40px;width:40px}#dg-ui-modal-body[data-v-5797ca83]{color:#000;padding-top:91px;padding-bottom:33px;overflow:scroll;font-size:13px;height:100%;-ms-overflow-style:none}@media(max-height:536px),(max-width:767px){#dg-ui-modal-body[data-v-5797ca83]{padding-top:80px}}@media(max-height:420px){#dg-ui-modal-body[data-v-5797ca83]{padding-top:80px;padding-bottom:0}}#dg-ui-modal-body[data-v-5797ca83]::-webkit-scrollbar{display:none}#dg-ui-modal-overlay[data-v-5797ca83]{position:absolute;top:0;left:0;height:100vh;width:100vw;z-index:4;background-color:rgba(0,0,0,.65)}.dg-smartpath-modal-title[data-v-5797ca83]{text-align:center;margin-top:-10px}",""]),e.exports=t},edd8:function(e,t,a){"use strict";a.r(t),a.d(t,"setupChangeActiveDealerModal",(function(){return J}));var o=a("4c02"),d=a("3078"),i=a("ade3"),l=a("7a23");const n=e=>(Object(l["pushScopeId"])("data-v-5797ca83"),e=e(),Object(l["popScopeId"])(),e),r={id:"dg-ui-modal",class:"dg-ui-modal-smaller-size dg-ui-modal-not-smartpath"},c={id:"dg-ui-modal-header",class:"dg-no-title"},s=n(()=>Object(l["createElementVNode"])("div",{class:"dg-close-x"},[Object(l["createElementVNode"])("span",null,"✕")],-1)),p=[s],g={id:"dg-ui-modal-body"};function u(e,t,a,o,d,i){const n=Object(l["resolveComponent"])("dealer-alert");return Object(l["openBlock"])(),Object(l["createBlock"])(l["Teleport"],{to:"#modal-root"},[e.isEnabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,id:"dg-ui-active-dealer-modal-wrapper",tabindex:"0",class:Object(l["normalizeClass"])({"dg-active":e.isOpen})},[Object(l["createElementVNode"])("div",r,[Object(l["createElementVNode"])("div",c,[Object(l["createElementVNode"])("div",{id:"dg-ui-modal-close",class:"dg-modal-close",onClick:t[0]||(t[0]=Object(l["withModifiers"])((...t)=>e.onClickClose&&e.onClickClose(...t),["prevent","stop"]))},p)]),Object(l["createElementVNode"])("div",g,[Object(l["createVNode"])(n,{onCancel:e.cancelAndClose,onContinue:e.continueAndClose},null,8,["onCancel","onContinue"])])]),Object(l["createElementVNode"])("div",{id:"dg-ui-modal-overlay",onClick:t[1]||(t[1]=Object(l["withModifiers"])((...t)=>e.onClickClose&&e.onClickClose(...t),["prevent","stop"]))})],2)):Object(l["createCommentVNode"])("",!0)])}var h=a("e628"),m=a("d191");const v={class:"dg-dealer-alert",role:"dialog"},b={class:"map-pin"},x={class:"dg-alert-header"},f={class:"dg-alert-body"},C={class:"dg-dealer-text"},O={class:"dg-alert-footer"};function y(e,t,a,o,d,i){const n=Object(l["resolveComponent"])("map-pin");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",v,[Object(l["createElementVNode"])("div",b,[Object(l["createVNode"])(n)]),Object(l["createElementVNode"])("div",x,Object(l["toDisplayString"])(e.textData.updatingLocation),1),Object(l["createElementVNode"])("div",f,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.textData.switchingLocation)+" ",1),Object(l["createElementVNode"])("span",C,Object(l["toDisplayString"])(e.activeDealerLabel),1),Object(l["createTextVNode"])(" "+Object(l["toDisplayString"])(e.textData.switchBack),1)]),Object(l["createElementVNode"])("div",O,[Object(l["createElementVNode"])("div",{class:"dg-alert-button",onClick:t[0]||(t[0]=(...t)=>e.onCancelPress&&e.onCancelPress(...t))},Object(l["toDisplayString"])(e.textData.cancelButtonText),1),Object(l["createElementVNode"])("div",{class:"dg-alert-button-red",onClick:t[1]||(t[1]=(...t)=>e.onContinuePress&&e.onContinuePress(...t))},Object(l["toDisplayString"])(e.textData.updateLocationButtonText),1)])])}var w=a("2480");const j={"aria-label":"location",xmlns:"http://www.w3.org/2000/svg",width:"26",height:"44",viewBox:"0 0 26 44"},D=Object(l["createStaticVNode"])('<g fill="none" fill-rule="evenodd"><path fill="#CCC" d="M19 42c0 1.104-2.687 2-6 2s-6-.896-6-2 2.687-2 6-2 6 .896 6 2"></path><path fill="#eb0a1e" d="M26 13c0 7.18-13 29-13 29S0 20.18 0 13 5.82 0 13 0s13 5.82 13 13"></path><path fill="#A60000" d="M26 13c0-7.18-5.82-13-13-13v42s13-21.82 13-29"></path><path fill="#FFF" d="M21.5 13.5a8.5 8.5 0 1 1-17.001-.001A8.5 8.5 0 0 1 21.5 13.5"></path></g>',1),k=[D];function A(e,t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("svg",j,k)}var T=a("6b0d"),E=a.n(T);const M={},N=E()(M,[["render",A]]);var z=N,B=Object(l["defineComponent"])({name:"DealerAlert",components:{MapPin:z},emits:["cancel","continue"],setup(e,{emit:t}){const a={updatingLocation:"You are updating your location.",updateLocationButtonText:"UPDATE LOCATION",cancelButtonText:"CANCEL",switchingLocation:"By switching locations, you will lose visibility of your saved items from",switchBack:", but they’ll be here when you switch back.",yourCurrentDealer:"your current dealer"},o=Object(w["a"])(),d=Object(l["computed"])(()=>o.getters.activeDealer),i=Object(l["computed"])(()=>{var e;return(null===(e=d.value)||void 0===e?void 0:e.name)||a.yourCurrentDealer}),n=Object(l["computed"])(()=>{var e;return null!==(e=d.value)&&void 0!==e&&e.zipCode?`${i.value} (${d.value.zipCode}) `:i.value}),r=(e,t)=>{m["b"].fireExternalLink({linkTrigger:m["a"],linkAction:e,linkText:t},m["c"].dealerAlertModal)},c=()=>{r("Clicked on No Thanks button in modal","No Thanks"),t("cancel")},s=()=>{r("Clicked on Change My Location button in modal","Change My Location"),t("continue")};return{activeDealerLabel:n,onCancelPress:c,onContinuePress:s,textData:a}}});a("bdd3");const S=E()(B,[["render",y],["__scopeId","data-v-150605dc"]]);var V=S,L=Object(l["defineComponent"])({name:"ActiveDealerModal",components:{DealerAlert:V},props:{isOpen:{type:Boolean,required:!0},isEnabled:{type:Boolean,required:!0}},emits:["cancel","continue"],setup(e,{emit:t}){const a=Object(l["computed"])(()=>e.isOpen);Object(h["b"])(a);const o=()=>t("cancel"),d=()=>t("continue"),i=()=>{m["b"].fireExternalLink({linkTrigger:m["a"],linkAction:"Clicked on the close Modal button",linkText:"Close Modal"},m["c"].dealerAlertModal),o()};return Object(l["watch"])(a,e=>{e&&m["b"].getService().createPageSectionTag(m["c"].dealerAlertModal).firePageLoad()},{immediate:!0}),{cancelAndClose:o,continueAndClose:d,onClickClose:i}}});a("8d60");const H=E()(L,[["render",u],["__scopeId","data-v-5797ca83"]]);var P=H,I=a("4140"),q=a("d805"),_=a("02b2"),U=a("7133"),R=a("4727");const G=new d["a"]("Active Dealer Modal Manager");class F{constructor(e,t){Object(i["a"])(this,"dgUiStore",void 0),Object(i["a"])(this,"hostId",void 0),Object(i["a"])(this,"callbacks",void 0),Object(i["a"])(this,"requestedToBeOpen",void 0),Object(i["a"])(this,"isEnabled",void 0),Object(i["a"])(this,"isOpenRef",void 0),this.requestedToBeOpen=Object(l["ref"])(!1),this.dgUiStore=e,this.hostId=t,this.isEnabled=!U["a"].supportsTdr,this.isOpenRef=Object(l["computed"])(()=>this.requestedToBeOpen.value&&this.isEnabled)}get isOpen(){return this.isOpenRef.value}get store(){return this.dgUiStore.vuexStore}setupOnPage(){const e=this.createApp(),t=this.createHostElement();e.mount(t)}async updateActiveDealer(e){const t=this.store.state.activeDealerCd;e!==t?(G.debug("Active Dealer has changed. Updating now.",{currentDealerCd:t,newDealerCd:e}),this.store.commit(_["a"].SetActiveDealerCd,e),Object(R["c"])(e),G.debug("DG Active Dealer updated to "+e)):G.debug("Update Active Dealer called with current Active Dealer. No update made")}openModal(e){this.callbacks=e,this.requestedToBeOpen.value=!0}closeModal(){this.requestedToBeOpen.value=!1}onCancel(){var e;G.debug("Handling cancel"),this.closeModal(),null===(e=this.callbacks)||void 0===e||e.onCancelDealerChange()}onContinue(){var e;G.debug("Handling confirm"),this.closeModal(),null===(e=this.callbacks)||void 0===e||e.onConfirmDealerChange()}showDealerWarningIfNeeded(e){const t=this.store.getters.activeDealer;null!==t&&void 0!==t&&t.isSmartPathDealer&&this.hasSavesAtDealer(null===t||void 0===t?void 0:t.dealerCd)&&this.isEnabled?(G.debug("Opening dealer change warning modal"),this.openModal(e)):(G.debug("Dealer change automatically confirmed"),e.onConfirmDealerChange())}hasSavesAtDealer(e,t={}){var a;if(!e)return!1;const o=t=>t.dealerCd===e&&Object.keys(t.savedDealers||{}).includes(e),d=e=>!!t[e.dealerCd];return Object.values((null===(a=this.store.getters.garage)||void 0===a?void 0:a.items)||{}).some(t=>t.dealerCd===e||Object(q["e"])(t)&&(o(t)||d(t)))}createApp(){return Object(I["b"])("dg-change-active-dealer-modal",this.dgUiStore,()=>Object(l["h"])(P,{isOpen:this.isOpenRef.value,isEnabled:this.isEnabled,onCancel:()=>this.onCancel(),onContinue:()=>this.onContinue()}))}createHostElement(){const e=document.body.querySelector("#"+this.hostId);e&&document.body.removeChild(e);const t=document.createElement("div");return t.id=this.hostId,document.body.appendChild(t),t}}let W;function Y(e){var t;return null!==(t=W)&&void 0!==t||(W=new F(e,"dg-component-modal-wrapper")),W}const $=new d["a"]("Change Dealer Modal");function J(e){try{const t=Y(e);return t.setupOnPage(),o["b"].initChangeActiveDealer(async e=>{if($.debug("DGDataHub.changeActiveDealer called",e),o["b"].dealerCd)return t.updateActiveDealer(e);$.warn("dealerCd is not defined on the DGDataHub. Should not be calling changeActiveDealer.")}),o["b"].initShowDealerWarning((e,a)=>{$.debug("Potenitially opening dealer change modal due to DGDataHub call"),t.showDealerWarningIfNeeded({onConfirmDealerChange:e,onCancelDealerChange:a})}),t}catch(t){return void $.error("Error setting up change active dealer modal",t)}}}}]);
//# sourceMappingURL=change-dealer-modal.e0509ce51247f123e089.min.js.map